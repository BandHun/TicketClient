<mat-card style = "height: 100%">
  <div class = "col-lg-12">
    <h1>Hour records</h1>
    <div style = "margin-top: 50px; margin-bottom: 50px">
      <label>Please select the start date</label>
      <input [(ngModel)] = "startDate" class = " col-md-2 form-control input-md" type = "date" id = "startDate"
             name = "startDate" (change) = "changeHours()">
    </div>
    <div *ngIf = "startDate!=null">
      <div class = "mat-elevation-z8">
        <br>
        <table mat-table [dataSource] = "dataSource">

          <ng-container matColumnDef = "users">
            <th mat-header-cell *matHeaderCellDef> Users</th>
            <td mat-cell *matCellDef = "let uwh"> {{uwh.user.name}} </td>
          </ng-container>
          <ng-container matColumnDef = "day0">
            <th mat-header-cell *matHeaderCellDef> {{day(0)}}</th>
            <td mat-cell *matCellDef = "let uwh"> {{uwh.hours[0] == 0 ? '' : uwh.hours[0] + " h"}} </td>
          </ng-container>
          <ng-container matColumnDef = "day1">
            <th mat-header-cell *matHeaderCellDef> {{day(1)}}</th>
            <td mat-cell *matCellDef = "let uwh"> {{uwh.hours[1] == 0 ? '' : uwh.hours[1] + " h"}} </td>
          </ng-container>
          <ng-container matColumnDef = "day2">
            <th mat-header-cell *matHeaderCellDef> {{day(2)}}</th>
            <td mat-cell *matCellDef = "let uwh"> {{uwh.hours[2] == 0 ? '' : uwh.hours[2] + " h"}} </td>
          </ng-container>
          <ng-container matColumnDef = "day3">
            <th mat-header-cell *matHeaderCellDef> {{day(3)}}</th>
            <td mat-cell *matCellDef = "let uwh"> {{uwh.hours[3] == 0 ? '' : uwh.hours[3] + " h"}} </td>
          </ng-container>
          <ng-container matColumnDef = "day4">
            <th mat-header-cell *matHeaderCellDef> {{day(4)}}</th>
            <td mat-cell *matCellDef = "let uwh"> {{uwh.hours[4] == 0 ? '' : uwh.hours[4] + " h"}} </td>
          </ng-container>
          <ng-container matColumnDef = "day5">
            <th mat-header-cell *matHeaderCellDef> {{day(5)}}</th>
            <td mat-cell *matCellDef = "let uwh"> {{uwh.hours[5] == 0 ? '' : uwh.hours[5] + " h"}} </td>
          </ng-container>
          <ng-container matColumnDef = "day6">
            <th mat-header-cell *matHeaderCellDef> {{day(6)}}</th>
            <td mat-cell *matCellDef = "let uwh"> {{uwh.hours[6] == 0 ? '' : uwh.hours[6] + " h"}} </td>
          </ng-container>

          <ng-container matColumnDef = "sum">
            <th mat-header-cell *matHeaderCellDef> Sum</th>
            <td mat-cell
                *matCellDef = "let uwh"> {{uwh.hours[0] + uwh.hours[1] + uwh.hours[2] + uwh.hours[3] + uwh.hours[4] + uwh.hours[5] + uwh.hours[6] + ' h'}} </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef = "displayedColumns"></tr>
          <tr mat-row *matRowDef = "let row; columns: displayedColumns;"></tr>
        </table>
      </div>
    </div>
  </div>
</mat-card>
